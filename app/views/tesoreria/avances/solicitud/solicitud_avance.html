<div class="panel panel-primary panel-body">
    <h2 class="page-header text-center">
        {{ 'SOLICITUD_AVANCE' | translate }}
    </h2>
    <form name="datosOblig">

        <legend class="text-primary" ng-click="info_terceros=!info_terceros">{{"INFORMACION_TERCERO" | translate}} <span class="fa fa-plus pull-right" ng-show="!info_terceros"></span> <span class="fa fa-minus pull-right" ng-show="info_terceros"></span></legend>

        <div class="panel-body" ng-show="info_terceros">
            <div class="row">
              <div class="col-md-6">
                  <label>{{'DOCUMENTO' | translate}}</label>
                  <div class="row">
                  <div class="col-md-11">
                    <input class="form-control" ng-model="solicitudAvance.tercero.documento" ui-number-mask="0" type = "text"/>
                  </div>
                  <button type="button" ng-click="solicitudAvance.BuscarTercero()" class="fa fa-search btn btn-info btn-outline" ></button>
                </div>
              </div>
                <div class="col-md-6">
                    <label for="jefe_solicitante" class="control-label">{{"TIPO_DOCUMENTO" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.tipo_documento}}</span>
                </div>

                <div class="col-md-6">
                    <label for="dep_destino" class="control-label">{{"LUGAR_DOCUMENTO" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.lugar}}-
                {{solicitudAvance.terceros.municipio_expedicion_documento.departamento}}</span>
                </div>

                <div class="col-md-6">
                    <label for="jefe_solicitante" class="control-label">{{"NOMBRE" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.nombres}}</span>
                </div>

                <div class="col-md-6">
                    <label for="ordenador_gasto" class="control-label">{{"APELLIDOS" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.apellidos}}</span>
                </div>

                <div class="col-md-6">
                    <label for="rol_ordenador_gasto" class="control-label">{{"DIRECCION" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.direccion}}</span>
                </div>

                <div class="col-md-6">
                    <label for="rol_ordenador_gasto" class="control-label">{{"CORREO_ELECTRONICO" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.correo}}</span>
                </div>

                <div class="col-md-6">
                    <label for="rol_ordenador_gasto" class="control-label">{{"NUMERO_TELEFONICO" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.telefono}}</span>
                </div>

                <div class="col-md-6">
                    <label for="rol_ordenador_gasto" class="control-label">{{"NUMERO_CELULAR" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.celular}}</span>
                </div>
            </div>

        </div>

        <legend class="text-primary" ng-click="info_desc_avances=!info_desc_avances">{{"DESCRIPCION_AVANCES" | translate}} <span class="fa fa-plus pull-right" ng-show="!info_desc_avances"></span> <span class="fa fa-minus pull-right" ng-show="info_desc_avances"></span></legend>
        <div class="panel-body" ng-show="info_desc_avances">
            <div class="row">
            </div>
            <br>
            <br>
            <div class="row">
                <div class="col-md-6">
                    <label for="dep_destino" class="control-label">{{"OBJETIVO" | translate}}</label>
                    <textarea class="form-control" ng-model="solicitudAvance.objetivo" rows="5" ng-required="true"></textarea>
                    <label for="dep_destino" class="control-label">{{"JUSTIFICACION" | translate}}</label>
                    <textarea class="form-control" ng-model="solicitudAvance.justificacion" rows="5" ng-required="true"></textarea>
                </div>
                <div class="col-md-6">
                    <label for="ordenador_gasto" class="control-label">{{"DEPENDENCIA" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.dependencia}}</span>

                    <label for="rol_ordenador_gasto" class="control-label">{{"FACULTAD" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.facultad}}</span>

                    <label for="rol_ordenador_gasto" class="control-label">{{"PROYECTO_CURRICULAR" | translate}}</label>
                    <span class="form-control">{{solicitudAvance.tercero.carrera}}</span>
                    <label for="rol_ordenador_gasto" class="control-label">{{"CONVENIO" | translate}}</label>
                    <div class="row">
                        <div class="col-md-4">
                            <input class="form-control" ng-model="solicitudAvance.codigo_convenio" placeholder="{{'CODIGO_CONVENIO' | translate}}">
                            </input>
                        </div>
                        <div class="col-md-8">
                            <input class="form-control" ng-model="solicitudAvance.nombre_convenio" placeholder="{{'NOMBRE_CONVENIO' | translate}}">
                            </input>
                        </div>
                    </div>

                    <label for="rol_ordenador_gasto" class="control-label">{{"PROYECTO_INVESTIGACION" | translate}}</label>
                    <div class="row">
                        <div class="col-md-4">
                            <input class="form-control" ng-model="solicitudAvance.codigo_proyecto_inv" placeholder="{{'CODIGO_PROYECTO' | translate}}">
                            </input>
                        </div>
                        <div class="col-md-8">
                            <input class="form-control" ng-model="solicitudAvance.nombre_proyecto_inv" placeholder="{{'NOMBRE_PROYECTO' | translate}}">
                            </input>
                        </div>
                    </div>
                </div>
            </div>
            <br>
        </div>
      </form>

      <legend class="text-primary" ng-click="info_detalle_avances=!info_detalle_avances">{{"TIPO_AVANCE" | translate}} <span class="fa fa-plus pull-right" ng-show="!info_detalle_avances"></span> <span class="fa fa-minus pull-right" ng-show="info_detalle_avances"></span></legend>
        <form name="datosTipoAvance">
        <div class="panel-body" ng-if="info_detalle_avances">
            <div class="row">
              <div class="col-md-6">
                  <label for="dep_destino" class="control-label">{{"TIPO_AVANCE" | translate}}</label>
                  <select name="requisito" ng-model="solicitudAvance.tipo_avance_select" class="form-control" required>
             <option selected value="" disabled>{{'SELECCIONE' | translate }} ...</option>
             <option ng-repeat="r in solicitudAvance.tipos_avance" value="{{r.Id}}">{{"(" + r.CodigoAbreviacion + ")\t" + r.Nombre}}</option>
                  </select>
                  <label for="jefe_solicitante" class="control-label">{{"VALOR_AVANCE" | translate}}</label>
                  <input class="form-control input_right" ng-model="solicitudAvance.valor_avance" ui-money-mask="0" required></input>


                  <label for="dep_destino" class="control-label">{{"DESCRIPCION" | translate}}</label>
                  <textarea class="form-control" ng-model="solicitudAvance.descripcion" rows="4" required></textarea>

                <div class="col-md-3 col-md-offset-4" align="center">
                   <br>
                  <button align="center" class="btn btn-success btn-outline" ng-click="solicitudAvance.anadir_tipo()">+ {{'TIPO' | translate }}</button>
                </div>
              </div>

                <div class="col-md-6">
                  <div ui-grid="solicitudAvance.gridOptions" ui-grid-pagination class="myGrid">
                      <div class="watermark" ng-show="!solicitudAvance.hayData">{{'NO_DATA'| translate}}</div>
                  </div>
                  <div class="col-md-3 col-md-offset-3">
                    <h3>{{'TOTAL' | translate}}: </h3>
                  </div>
                  <div class="col-md-3 ">
                    <br>
                    <span class="form-control input_right">{{solicitudAvance.total | currency}}</span>

                  </div>
                </div>

            </div>
        </div>
        </form>


</div>
<div class="row" align="center">
    <button ng-click="solicitudAvance.enviar()" class="btn btn-success btn-outline">{{'BTN.GUARDAR' | translate }}</button> </div>
<br><br><br>
</div>

<div id="modal_informacion_tipo_avance" class="modal fade" role="dialog">
   <div class="modal-content col-md-4 col-md-offset-4" style="margin-top: 5%">
     <div class="modal-header">
       <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal">&times</button><br>
     </div>
     <div class="modal-body">
       <div class="panel panel-default">
         <div class="panel-heading">
           <h3 class="panel-title">{{'TIPO_AVANCE' | translate}}</h3>
         </div>
         <div class="panel-body">
               <label>{{'NOMBRE' | translate}}:</label>
               {{solicitudAvance.row_seleccionada.TipoAvance.Nombre}}
               <br>
               <label>{{'DESCRIPCION' | translate}}:</label>
               {{solicitudAvance.row_seleccionada.Descripcion}}
               <br>
               <label>{{'VALOR' | translate}}:</label>
               {{solicitudAvance.row_seleccionada.Valor | currency}}
               <br>
                <label>{{'REQUISITOS' | translate}}:</label>

                <div ng-show="!solicitudAvance.hayRequisitos">
                    {{'NO_APLICA' | translate}}
                </div>

                <div ng-show="solicitudAvance.hayRequisitos">
                 <li ng-repeat="requisito in solicitudAvance.requisitos" ng-if="requisito.RequisitoAvance.EtapaAvance.Nombre === 'Solicitud'">
                          {{requisito.RequisitoAvance.Nombre}}
                </li>
              </div>


         </div>
       </div>
     </div>
   </div>

</div>

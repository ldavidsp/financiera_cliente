<div class="panel panel-primary panel-body" >
    <h2 class="page-header text-center" >
      {{'LEGALIZACION_EVENTO_COMPRA' | translate }}
    </h2>
    <div class="panel-body">
      <form class="form-horizontal" name="compras" ng-submit="compras.$valid && legalizacionEvtCompra.add_edit_compras()">
        <br>
        <div class="row">
          <label for="CodigoAbreviacion" class="col-sm-3 control-label">{{'DOCUMENTO_NIT' | translate }}:</label>
          <div class="col-sm-6">
            <input name="CodigoAbreviacion" type="text" ng-model="legalizacionEvtCompra.Tercero" class="form-control" ng-required="true" />
          </div>
            <div class="col-sm-1">
              <center>
                <a type="button" name="button" ng-click="legalizacionEvtCompra.cargar_proveedor()" class="fa fa-search btn btn-info btn-outline" aria-hidden="true"></a>
              </center>
            </div>
            <div class="col-sm-2">
              <loading load="estudiante_cargado" tam=1 clase="clase_load"></loading>
              <div class="alert alert-warning" ng-if="encontrado">
                <strong>{{'NO_ENCONTRADO_RESULTADOS' | translate }} {{'DOCUMENTO_NIT' | translate }} {{legalizacionEvtCompra.Codigo}}</strong>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <label for="nombre" class="col-sm-3 control-label">{{'NOMBRE' | translate }}:</label>
            <div class="col-sm-8">
              <span class="form-control">{{legalizacionEvtCompra.InformacionProveedor.NomProveedor}}</span>
            </div>
          </div>
          <br>
          <div class="row">
            <label for="tipo_ingreso" class="col-sm-3 control-label">{{'FECHA_COMPRA_EVENTO' | translate}}:</label>
            <md-datepicker ng-model="legalizacionEvtCompra.FechaCompra" md-placeholder="{{'FECHA' | translate}}"></md-datepicker>
          </div>
          <br>
          <div class="row">
            <label for="descripcion" class="col-sm-3 control-label">{{'NO_FACTURA' | translate }}:</label>
            <div class="col-sm-6">
              <input name="CodigoAbreviacion" type="text" ng-model="legalizacionEvtCompra.NumeroFactura" class="form-control input_right" ng-required="true" />
                    </div>
            </div>
            <br>
            <div class="row">
              <label for="descripcion" class="col-sm-3 control-label">{{'VALOR_FACTURA_COMPRA' | translate }}:</label>
              <div class="col-sm-6">
                <input name="CodigoAbreviacion" ng-change="legalizacionEvtCompra.calcular_valor_impuesto()" type="text" ng-model="legalizacionEvtCompra.LegalizacionCompras.Valor" ui-money-mask="0" class="form-control input_right" ng-required="true" />
                    </div>
              </div>
              <br>
              <div class="row">
                <label for="descripcion" class="col-sm-3 control-label">{{'TRM_COMPRA' | translate }}:</label>
                <div class="col-sm-6">
                  <input name="CodigoAbreviacion" type="text" ng-model="legalizacionEvtCompra.TrmFechaCompra" ui-percentage-mask class="form-control input_right" />
                    </div>
                  <div class="col-sm-3">
                    <label for="descripcion"><small>{{'TRM_COMPRA_DESCRIPCION' | translate }}</small></label>
                  </div>
                </div>
                <br>
                <!--div class="row">
                  <label for="descripcion" class="col-sm-3 control-label">{{'TIPO_IVA' | translate }}:</label>
                  <div class="col-sm-3">
                    <select class="form-control" ng-change="legalizacionEvtCompra.calcular_valor_impuesto()" ng-model="legalizacionEvtCompra.Impuesto.IVA" ng-options="o as o.Descripcion for o in legalizacionEvtCompra.iva"></select>
                  </div>
                  <div class="col-sm-3">
                    <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.IVA.Valor" ui-money-mask="0" class="form-control input_right" />
                  </div>
                </div>
                <br>
                <div class="row">
                  <label for="descripcion" class="col-sm-3 control-label">{{'SUBTOTAL' | translate }}:</label>
                  <div class="col-sm-6">
                    <input name="CodigoAbreviacion" type="text" ng-model="legalizacionEvtCompra.subtotal" ui-money-mask="0" class="form-control input_right" disabled/>
                  </div>
                </div>
                <hr>
                <div class="row">
                  <label for="descripcion" class="col-sm-3 control-label">{{'RETE_IVA' | translate }}:</label>
                  <div class="col-sm-3">
                    <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.rete_iva.Porcentaje" ui-percentage-mask class="form-control input_right" />
                  </div>
                    <div class="col-sm-3">
                      <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.rete_iva.Valor" ui-money-mask="0" class="form-control input_right" />
                    </div>
                    </div>
                    <br>
                    <div class="row">
                      <label for="descripcion" class="col-sm-3 control-label">{{'TIPO_ICA' | translate }}:</label>
                      <div class="col-sm-3">
                        <select class="form-control" ng-change="legalizacionEvtCompra.calcular_valor_impuesto()" ng-model="legalizacionEvtCompra.Impuesto.ICA" ng-options="o as o.Descripcion for o in legalizacionEvtCompra.ica"></select>
                      </div>
                      <div class="col-sm-3">
                        <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.ICA.Valor" ui-money-mask="0" class="form-control input_right">
                      </div>
                    </div>
                    <br>
                    <div class="row">
                      <label for="descripcion" class="col-sm-3 control-label">{{'TIPO_RENTA' | translate }}:</label>
                      <div class="col-sm-3">
                        <select class="form-control" ng-change="legalizacionEvtCompra.calcular_valor_impuesto()" ng-model="legalizacionEvtCompra.Impuesto.RENTA" ng-options="o as o.Descripcion for o in legalizacionEvtCompra.renta"></select>
                      </div>
                      <div class="col-sm-3">
                        <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.RENTA.Valor" ui-money-mask="0" class="form-control input_right" />
                      </div>
                    </div>
                        <br>
                        <div class="row">
                          <label for="descripcion" class="col-sm-3 control-label">{{'ESTAMPILLA_UD' | translate }}:</label>
                          <div class="col-sm-3">
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.estampilla_ud.Porcentaje" ui-percentage-mask class="form-control input_right" />
                          </div>
                          <div class="col-sm-3">
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.estampilla_ud.Valor" ui-money-mask="0" class="form-control input_right" />
                          </div>
                        </div>
                        <br>
                        <div class="row">
                          <label for="descripcion" class="col-sm-3 control-label">{{'ESTAMPILLA_PROCULTURA' | translate }}:</label>
                          <div class="col-sm-3">
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.estampilla_procultura.Porcentaje" ui-percentage-mask class="form-control input_right" />
                          </div>
                          <div class="col-sm-3">
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.estampilla_procultura.Valor" ui-money-mask="0" class="form-control input_right" />
                          </div>
                        </div>
                        <br>
                        <div class="row">
                          <label for="descripcion" class="col-sm-3 control-label">{{'ESTAMPILLA_PRO_ADULTO_MAYOR' | translate }}:</label>
                          <div class="col-sm-3">
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.estampilla_proadulto_mayor.Porcentaje" ui-percentage-mask class="form-control input_right" />
                          </div>
                          <div class="col-sm-3">
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Impuesto.estampilla_proadulto_mayor.Valor" ui-money-mask="0" class="form-control input_right" />
                          </div>
                        </div-->
                        <legend class="text-primary" ng-click="d=!d">{{'IMPUESTOS'| translate}}
                          <span class="fa fa-plus pull-right" ng-show="!d"></span>
                          <span class="fa fa-minus pull-right" ng-show="d"></span>
                       </legend>
                        <div class="panel panel-default" ng-show="d">
                            <div>
                            <div id="my-grid" ui-grid="legalizacionEvtCompra.gridImpuestos" ui-grid-auto-resize ui-grid-selection ui-grid-pagination></div>
                            </div>
                          <br>
                         <div class="col-md-12">
                           <div class="panel panel-default panel-body col-md-6" ng-repeat="item in legalizacionEvtCompra.Impuesto track by $index">
                             <div class="panel-heading">
                               <label for="descripcion" class="control-label">{{item.TipoCuentaEspecial.Nombre}}</label>
                             </div>
                             <fieldset>
                               <div style="padding-top:2%">
                                 <span >{{item.Descripcion}}</span>
                              </div>
                               <div class="col-md-6" style="padding-top:2%">
                                 <span  class="control-label" style="width:20%;text-align:left;display:inline-block"><strong>Porcentaje:</strong></span>
                                 <input  class = "form-control input_right" type="text" disabled ng-model="item.Porcentaje" style="width:20%;display:inline-block" ui-percentage-mask />
                                 <span  class="control-label" style="width:10%;text-align:left;display:inline-block"><strong>valor:</strong></span>
                                   <input  class = "form-control input_right" type="text"disabled ng-model="item.Valor" ui-money-mask="0" style="width:20%;display:inline-block" />
                                   </div>
                                 </fieldset>
                               </div>
                             </div>
                          </div>
                        <hr>
                        <div class="col-md-12">
                          <div class="row" >
                            <label for="descripcion" class="control-label" style="width:5%;text-align:left;display:inline-block">{{'SUBTOTAL' | translate }}:</label>
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Total" class="form-control" style="width:10%;text-align:left;display:inline-block" ui-money-mask="0" disabled/>
                          </div>

                          <div class="row" style="padding-top:1%">
                            <label for="descripcion" class="control-label" style="width:5%;text-align:left;display:inline-block">{{'TOTAL' | translate }}:</label>
                            <input name="CodigoAbreviacion" type="text" disabled ng-model="legalizacionEvtCompra.Total" class="form-control" style="width:10%;text-align:left;display:inline-block" ui-money-mask="0" disabled/>
                          </div>
                        </div>
                        <br>
                        <center>
                          <input type="reset" ng-click="legalizacionEvtCompra.limpiar_compra()" class="btn btn-info btn-outline" value="{{'BTN.LIMPIAR' | translate }}" ng-if="legalizacionEvtCompra.operacion ==='add'" />
                          <input type="submit" class="btn btn-success btn-outline" value="{{'BTN.GUARDAR' | translate }}" />
                        </center>
      </form>
    </div>
  </div>
